{"ast":null,"code":"import _defineProperty from\"/home/nikunj/socialape-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/nikunj/socialape-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/nikunj/socialape-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useEffect,useState}from\"react\";import withStyles from\"@material-ui/core/styles/withStyles\";import MyButton from\"../../util/MyButton\";//Redux\nimport{connect}from\"react-redux\";import{editUserDetails}from\"../../redux/actions/userActions\";//Mui stuff\nimport Button from\"@material-ui/core/Button\";import TextField from\"@material-ui/core/TextField\";import Dialog from\"@material-ui/core/Dialog\";import DialogActions from\"@material-ui/core/DialogActions\";import DialogContent from\"@material-ui/core/DialogContent\";import DialogTitle from\"@material-ui/core/DialogTitle\";//Icons\nimport EditIcon from\"@material-ui/icons/Edit\";var styles={palette:{primary:{light:\"#33c9dc\",main:\"#00bcd4\",dark:\"#008394\",contrastText:\"#fff\"},secondary:{light:\"#ff6333\",main:\"#ff3d00\",dark:\"#b22a00\",contrastText:\"#fff\"}},form:{textAlign:\"center\"},image:{margin:\"20px auto 20px auto\"},pageTitle:{margin:\"10px auto 10px auto\"},textField:{margin:\"10px auto 10px auto\"},button:{// marginTop: 20,\nposition:\"relative\"},customError:{color:\"red\",fontSize:\"0.8rem\",marginTop:10},progress:{position:\"absolute\"}};function EditDetails(props){var _useState=useState({bio:\"\",website:\"\",location:\"\",open:false}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var mapUserDetailsToState=function mapUserDetailsToState(credentials){setState(_objectSpread(_objectSpread({},state),{},{bio:credentials.bio?credentials.bio:\"\",website:credentials.website?credentials.website:\"\",location:credentials.location?credentials.location:\"\"}));};useEffect(function(){var credentials=props.credentials;mapUserDetailsToState(credentials);},[]);var classes=props.classes;var handleOpen=function handleOpen(){setState(state.open=true);console.log(state.open);mapUserDetailsToState(props.credentials);};var handleClose=function handleClose(){setState(_objectSpread(_objectSpread({},state),{},{open:false}));};var handleChange=function handleChange(event){setState(_objectSpread(_objectSpread({},state),{},_defineProperty({},event.target.name,event.target.value)));};var handleSubmit=function handleSubmit(){var userDetails={bio:state.bio,website:state.website,location:state.location};props.editUserDetails(userDetails);handleClose();};return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(MyButton,{tip:\"Edit details\",onClick:handleOpen,btnClassName:classes.button},/*#__PURE__*/React.createElement(EditIcon,{color:\"primary\"})),/*#__PURE__*/React.createElement(Dialog,{open:state.open,onClose:handleClose,fullWidth:true,maxWidth:\"sm\"},/*#__PURE__*/React.createElement(DialogTitle,null,\"Edit your details\"),/*#__PURE__*/React.createElement(DialogContent,null,/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(TextField,{name:\"bio\",type:\"text\",label:\"Bio\",multiline:true,rows:\"3\",placeholder:\"A short bio about yourself\",className:classes.textField,value:state.bio,onChange:handleChange,fullWidth:true}),/*#__PURE__*/React.createElement(TextField,{name:\"website\",type:\"text\",label:\"Website\",placeholder:\"Your personal/professional website\",className:classes.textField,value:state.website,onChange:handleChange,fullWidth:true}),/*#__PURE__*/React.createElement(TextField,{name:\"location\",type:\"text\",label:\"Location\",placeholder:\"Where you live\",className:classes.textField,value:state.location,onChange:handleChange,fullWidth:true}))),/*#__PURE__*/React.createElement(DialogActions,null,/*#__PURE__*/React.createElement(Button,{onClick:handleClose,color:\"primary\"},\"Cancel\"),/*#__PURE__*/React.createElement(Button,{onClick:handleSubmit,color:\"primary\"},\"Save\"))));}var mapStateToProps=function mapStateToProps(state){return{credentials:state.user.credentials};};export default connect(mapStateToProps,{editUserDetails:editUserDetails})(withStyles(styles)(EditDetails));","map":{"version":3,"sources":["/home/nikunj/socialape-client/src/components/profile/EditDetails.js"],"names":["React","Fragment","useEffect","useState","withStyles","MyButton","connect","editUserDetails","Button","TextField","Dialog","DialogActions","DialogContent","DialogTitle","EditIcon","styles","palette","primary","light","main","dark","contrastText","secondary","form","textAlign","image","margin","pageTitle","textField","button","position","customError","color","fontSize","marginTop","progress","EditDetails","props","bio","website","location","open","state","setState","mapUserDetailsToState","credentials","classes","handleOpen","console","log","handleClose","handleChange","event","target","name","value","handleSubmit","userDetails","mapStateToProps","user"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport MyButton from \"../../util/MyButton\";\n\n//Redux\nimport { connect } from \"react-redux\";\nimport { editUserDetails } from \"../../redux/actions/userActions\";\n\n//Mui stuff\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\n//Icons\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nconst styles = {\n  palette: {\n    primary: {\n      light: \"#33c9dc\",\n      main: \"#00bcd4\",\n      dark: \"#008394\",\n      contrastText: \"#fff\",\n    },\n    secondary: {\n      light: \"#ff6333\",\n      main: \"#ff3d00\",\n      dark: \"#b22a00\",\n      contrastText: \"#fff\",\n    },\n  },\n  form: {\n    textAlign: \"center\",\n  },\n  image: {\n    margin: \"20px auto 20px auto\",\n  },\n  pageTitle: {\n    margin: \"10px auto 10px auto\",\n  },\n  textField: {\n    margin: \"10px auto 10px auto\",\n  },\n  button: {\n    // marginTop: 20,\n    position: \"relative\",\n  },\n  customError: {\n    color: \"red\",\n    fontSize: \"0.8rem\",\n    marginTop: 10,\n  },\n  progress: {\n    position: \"absolute\",\n  },\n};\n\nfunction EditDetails(props) {\n  const [state, setState] = useState({\n    bio: \"\",\n    website: \"\",\n    location: \"\",\n    open: false,\n  });\n\n  const mapUserDetailsToState = (credentials) => {\n    setState({\n      ...state,\n      bio: credentials.bio ? credentials.bio : ``,\n      website: credentials.website ? credentials.website : ``,\n      location: credentials.location ? credentials.location : ``,\n    });\n  };\n  useEffect(() => {\n    const { credentials } = props;\n    mapUserDetailsToState(credentials);\n  }, []);\n\n  const { classes } = props;\n\n  const handleOpen = () => {\n    setState((state.open = true));\n    console.log(state.open);\n    mapUserDetailsToState(props.credentials);\n  };\n\n  const handleClose = () => {\n    setState({\n      ...state,\n      open: false,\n    });\n  };\n\n  const handleChange = (event) => {\n    setState({\n      ...state,\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  const handleSubmit = () => {\n    const userDetails = {\n      bio: state.bio,\n      website: state.website,\n      location: state.location,\n    };\n    props.editUserDetails(userDetails);\n    handleClose();\n  };\n\n  return (\n    <Fragment>\n      <MyButton\n        tip=\"Edit details\"\n        onClick={handleOpen}\n        btnClassName={classes.button}\n      >\n        <EditIcon color=\"primary\" />\n      </MyButton>\n      <Dialog open={state.open} onClose={handleClose} fullWidth maxWidth=\"sm\">\n        <DialogTitle>Edit your details</DialogTitle>\n        <DialogContent>\n          <form>\n            <TextField\n              name=\"bio\"\n              type=\"text\"\n              label=\"Bio\"\n              multiline\n              rows=\"3\"\n              placeholder=\"A short bio about yourself\"\n              className={classes.textField}\n              value={state.bio}\n              onChange={handleChange}\n              fullWidth\n            />\n            <TextField\n              name=\"website\"\n              type=\"text\"\n              label=\"Website\"\n              placeholder=\"Your personal/professional website\"\n              className={classes.textField}\n              value={state.website}\n              onChange={handleChange}\n              fullWidth\n            />\n            <TextField\n              name=\"location\"\n              type=\"text\"\n              label=\"Location\"\n              placeholder=\"Where you live\"\n              className={classes.textField}\n              value={state.location}\n              onChange={handleChange}\n              fullWidth\n            />\n          </form>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={handleSubmit} color=\"primary\">\n            Save\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Fragment>\n  );\n}\n\nEditDetails.propTypes = {\n  editUserDetails: PropTypes.func.isRequired,\n  classes: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  credentials: state.user.credentials,\n});\n\nexport default connect(mapStateToProps, { editUserDetails })(\n  withStyles(styles)(EditDetails)\n);\n"]},"metadata":{},"sourceType":"module"}