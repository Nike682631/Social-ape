{"ast":null,"code":"var _jsxFileName = \"/home/nikunj/socialape-client/src/components/Scream.js\";\nimport React from \"react\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport { Link } from \"react-router-dom\";\nimport dayjs from \"dayjs\";\nimport relativeTime from \"dayjs/plugin/relativeTime\";\nimport PropTypes from \"prop-types\";\nimport MyButton from \"../util/MyButton\"; //MUI stuff\n\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport Typography from \"@material-ui/core/Typography\"; //Icons\n\nimport ChatIcon from \"@material-ui/icons/Chat\";\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\nimport FavoriteBorder from \"@material-ui/icons/Favorite\"; //Redux\n\nimport { connect } from \"react-redux\";\nimport { likeScream, unlikeScream } from \"../redux/actions/dataActions\";\nconst styles = {\n  card: {\n    display: \"flex\",\n    marginBottom: 20\n  },\n  image: {\n    minWidth: 200\n  },\n  content: {\n    padding: 25,\n    objectfit: \"cover\"\n  }\n};\n\nfunction Scream(props) {\n  dayjs.extend(relativeTime);\n  const {\n    classes,\n    scream: {\n      body,\n      createdAt,\n      userImage,\n      userHandle,\n      screamId,\n      likeCount,\n      commentCount\n    },\n    user: {\n      authenticated\n    }\n  } = props;\n\n  const likedScream = () => {\n    if (props.user.likes && props.user.likes.find(like => like.screamId === props.scream.screamId)) {\n      return true;\n    } else return false;\n  };\n\n  const likeScream = () => {\n    props.likeScream(props.scream.screamId);\n  };\n\n  const unlikeScream = () => {\n    props.unlikeScream(props.scream.screamId);\n  };\n\n  const likeButton = !authenticated ? /*#__PURE__*/React.createElement(MyButton, {\n    tip: \"Like\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FavoriteBorder, {\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }))) : likedScream() ? /*#__PURE__*/React.createElement(MyButton, {\n    tip: \"Undo like\",\n    onClick: unlikeScream,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(FavoriteIcon, {\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  })) : /*#__PURE__*/React.createElement(MyButton, {\n    tip: \"Like\",\n    onClick: likeScream,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(FavoriteBorder, {\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }));\n  return /*#__PURE__*/React.createElement(Card, {\n    className: classes.card,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CardMedia, {\n    image: userImage,\n    title: \"Profile image\",\n    className: classes.image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(CardContent, {\n    className: classes.content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h5\",\n    component: Link,\n    to: `/users/${userHandle}`,\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, userHandle), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }, dayjs(createdAt).fromNow()), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"body1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }, body), likeButton, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }, likeCount, \" likes\"), /*#__PURE__*/React.createElement(MyButton, {\n    tip: \"comment\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ChatIcon, {\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }, commentCount, \" comments\")));\n}\n\nScream.propTypes = {\n  likeScream: PropTypes.func.isRequired,\n  unlikeScream: PropTypes.func.isRequired,\n  user: PropTypes.object.isRequired,\n  scream: PropTypes.object.isRequired,\n  classes: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  user: state.user\n});\n\nconst mapActionsToProps = {\n  likeScream,\n  unlikeScream\n};\nexport default connect(mapStateToProps, mapActionsToProps)(withStyles(styles)(Scream));","map":{"version":3,"sources":["/home/nikunj/socialape-client/src/components/Scream.js"],"names":["React","withStyles","Link","dayjs","relativeTime","PropTypes","MyButton","Card","CardContent","CardMedia","Typography","ChatIcon","FavoriteIcon","FavoriteBorder","connect","likeScream","unlikeScream","styles","card","display","marginBottom","image","minWidth","content","padding","objectfit","Scream","props","extend","classes","scream","body","createdAt","userImage","userHandle","screamId","likeCount","commentCount","user","authenticated","likedScream","likes","find","like","likeButton","fromNow","propTypes","func","isRequired","object","mapStateToProps","state","mapActionsToProps"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport { Link } from \"react-router-dom\";\nimport dayjs from \"dayjs\";\nimport relativeTime from \"dayjs/plugin/relativeTime\";\nimport PropTypes from \"prop-types\";\nimport MyButton from \"../util/MyButton\";\n\n//MUI stuff\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport Typography from \"@material-ui/core/Typography\";\n\n//Icons\nimport ChatIcon from \"@material-ui/icons/Chat\";\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\nimport FavoriteBorder from \"@material-ui/icons/Favorite\";\n//Redux\nimport { connect } from \"react-redux\";\nimport { likeScream, unlikeScream } from \"../redux/actions/dataActions\";\n\nconst styles = {\n  card: {\n    display: \"flex\",\n    marginBottom: 20,\n  },\n  image: {\n    minWidth: 200,\n  },\n  content: {\n    padding: 25,\n    objectfit: \"cover\",\n  },\n};\n\nfunction Scream(props) {\n  dayjs.extend(relativeTime);\n  const {\n    classes,\n    scream: {\n      body,\n      createdAt,\n      userImage,\n      userHandle,\n      screamId,\n      likeCount,\n      commentCount,\n    },\n    user: { authenticated },\n  } = props;\n\n  const likedScream = () => {\n    if (\n      props.user.likes &&\n      props.user.likes.find((like) => like.screamId === props.scream.screamId)\n    ) {\n      return true;\n    } else return false;\n  };\n\n  const likeScream = () => {\n    props.likeScream(props.scream.screamId);\n  };\n\n  const unlikeScream = () => {\n    props.unlikeScream(props.scream.screamId);\n  };\n\n  const likeButton = !authenticated ? (\n    <MyButton tip=\"Like\">\n      <Link to=\"/login\">\n        <FavoriteBorder color=\"primary\" />\n      </Link>\n    </MyButton>\n  ) : likedScream() ? (\n    <MyButton tip=\"Undo like\" onClick={unlikeScream}>\n      <FavoriteIcon color=\"primary\" />\n    </MyButton>\n  ) : (\n    <MyButton tip=\"Like\" onClick={likeScream}>\n      <FavoriteBorder color=\"primary\" />\n    </MyButton>\n  );\n\n  return (\n    <Card className={classes.card}>\n      <CardMedia\n        image={userImage}\n        title=\"Profile image\"\n        className={classes.image}\n      />\n      <CardContent className={classes.content}>\n        <Typography\n          variant=\"h5\"\n          component={Link}\n          to={`/users/${userHandle}`}\n          color=\"primary\"\n        >\n          {userHandle}\n        </Typography>\n\n        <Typography variant=\"body2\" color=\"textSecondary\">\n          {dayjs(createdAt).fromNow()}\n        </Typography>\n\n        <Typography variant=\"body1\">{body}</Typography>\n        {likeButton}\n        <span>{likeCount} likes</span>\n        <MyButton tip=\"comment\">\n          <ChatIcon color=\"primary\" />\n        </MyButton>\n        <span>{commentCount} comments</span>\n      </CardContent>\n    </Card>\n  );\n}\n\nScream.propTypes = {\n  likeScream: PropTypes.func.isRequired,\n  unlikeScream: PropTypes.func.isRequired,\n  user: PropTypes.object.isRequired,\n  scream: PropTypes.object.isRequired,\n  classes: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  user: state.user,\n});\n\nconst mapActionsToProps = {\n  likeScream,\n  unlikeScream,\n};\n\nexport default connect(\n  mapStateToProps,\n  mapActionsToProps\n)(withStyles(styles)(Scream));\n"]},"metadata":{},"sourceType":"module"}