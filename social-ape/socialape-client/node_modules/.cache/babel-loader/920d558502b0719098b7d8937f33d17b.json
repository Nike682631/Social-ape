{"ast":null,"code":"import React,{Fragment}from\"react\";import PropTypes from\"prop-types\";import withStyles from\"@material-ui/core/styles/withStyles\";import{Link}from\"react-router-dom\";import dayjs from\"dayjs\";import EditDetails from\"./EditDetails\";import MyButton from\"../../util/MyButton\";import ProfileSkeleton from\"../../util/ProfileSkeleton\";//REDUX\nimport{connect}from\"react-redux\";import{logoutUser,uploadImage}from\"../../redux/actions/userActions\";//MUI STUFF\nimport Button from\"@material-ui/core/Button\";import Paper from\"@material-ui/core/Paper\";import Typography from\"@material-ui/core/Typography\";import MuiLink from\"@material-ui/core/Link\";//Icons\nimport LocationOn from\"@material-ui/icons/LocationOn\";import LinkIcon from\"@material-ui/icons/Link\";import CalendarToday from\"@material-ui/icons/CalendarToday\";import EditIcon from\"@material-ui/icons/Edit\";import KeyboardReturn from\"@material-ui/icons/KeyboardReturn\";var styles={paper:{padding:20},profile:{\"& .image-wrapper\":{textAlign:\"center\",position:\"relative\",\"& button\":{position:\"absolute\",top:\"80%\",left:\"70%\"}},\"& .profile-image\":{width:200,height:200,objectFit:\"cover\",maxWidth:\"100%\",borderRadius:\"50%\"},\"& .profile-details\":{textAlign:\"center\",\"& span, svg\":{verticalAlign:\"middle\"},\"& a\":{color:\"#00bcd4\"}},\"& hr\":{border:\"none\",margin:\"0 0 10px 0\"},\"& svg.button\":{\"&:hover\":{cursor:\"pointer\"}}},buttons:{textAlign:\"center\",\"& a\":{margin:\"20px 10px\"}}};function Profile(props){var classes=props.classes,_props$user=props.user,_props$user$credentia=_props$user.credentials,handle=_props$user$credentia.handle,createdAt=_props$user$credentia.createdAt,imageUrl=_props$user$credentia.imageUrl,bio=_props$user$credentia.bio,website=_props$user$credentia.website,location=_props$user$credentia.location,loading=_props$user.loading,authenticated=_props$user.authenticated;var handleImageChange=function handleImageChange(event){var image=event.target.files[0];//send to server\nvar formData=new FormData();formData.append(\"image\",image,image.name);props.uploadImage(formData);};var handleEditPicture=function handleEditPicture(){var fileInput=document.getElementById(\"imageInput\");fileInput.click();};var handleLogout=function handleLogout(){props.logoutUser();};var profileMarkup=!loading?authenticated?/*#__PURE__*/React.createElement(Paper,{className:classes.paper},/*#__PURE__*/React.createElement(\"div\",{className:classes.profile},/*#__PURE__*/React.createElement(\"div\",{className:\"image-wrapper\"},/*#__PURE__*/React.createElement(\"img\",{src:imageUrl,alt:\"profile\",className:\"profile-image\"}),/*#__PURE__*/React.createElement(\"input\",{type:\"file\",id:\"imageInput\",onChange:handleImageChange,hidden:\"hidden\"}),/*#__PURE__*/React.createElement(MyButton,{tip:\"Edit Profile picture\",onClick:handleEditPicture,btnClassName:\"button\"},/*#__PURE__*/React.createElement(EditIcon,{color:\"primary\"}))),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"profile-details\"},/*#__PURE__*/React.createElement(MuiLink,{component:Link,to:\"/users/\".concat(handle),color:\"primary\",variant:\"h5\"},\"@\",handle),/*#__PURE__*/React.createElement(\"hr\",null),bio&&/*#__PURE__*/React.createElement(Typography,{variant:\"body2\"},bio),/*#__PURE__*/React.createElement(\"hr\",null),location&&/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(LocationOn,{color:\"primary\"}),\" \",/*#__PURE__*/React.createElement(\"span\",null,location),/*#__PURE__*/React.createElement(\"hr\",null)),website&&/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(LinkIcon,{color:\"primary\"}),/*#__PURE__*/React.createElement(\"a\",{href:website,target:\"_blank\",rel:\"noreferrer\"},\" \",website),/*#__PURE__*/React.createElement(\"hr\",null)),/*#__PURE__*/React.createElement(CalendarToday,{color:\"primary\"}),\" \",/*#__PURE__*/React.createElement(\"span\",null,\"Joined \",dayjs(createdAt).format(\"MMM YYYY \")),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(MyButton,{tip:\"Logout\",onClick:handleLogout},/*#__PURE__*/React.createElement(KeyboardReturn,{color:\"primary\"})),/*#__PURE__*/React.createElement(EditDetails,null)))):/*#__PURE__*/React.createElement(Paper,{className:classes.paper},/*#__PURE__*/React.createElement(Typography,{variant:\"body2\",align:\"center\"},\"No profile found, please login again\"),/*#__PURE__*/React.createElement(\"div\",{className:classes.buttons},/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"primary\",component:Link,to:\"/login\"},\"Login\"),/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"secondary\",component:Link,to:\"/signup\"},\"Signup\"))):/*#__PURE__*/React.createElement(ProfileSkeleton,null);return profileMarkup;}var mapStateToProps=function mapStateToProps(state){return{user:state.user};};var mapActionsToProps={logoutUser:logoutUser,uploadImage:uploadImage};Profile.propTypes={logoutUser:PropTypes.func.isRequired,uploadImage:PropTypes.func.isRequired,user:PropTypes.object.isRequired,classes:PropTypes.object.isRequired};export default connect(mapStateToProps,mapActionsToProps)(withStyles(styles)(Profile));","map":{"version":3,"sources":["/home/nikunj/socialape-client/src/components/profile/Profile.js"],"names":["React","Fragment","PropTypes","withStyles","Link","dayjs","EditDetails","MyButton","ProfileSkeleton","connect","logoutUser","uploadImage","Button","Paper","Typography","MuiLink","LocationOn","LinkIcon","CalendarToday","EditIcon","KeyboardReturn","styles","paper","padding","profile","textAlign","position","top","left","width","height","objectFit","maxWidth","borderRadius","verticalAlign","color","border","margin","cursor","buttons","Profile","props","classes","user","credentials","handle","createdAt","imageUrl","bio","website","location","loading","authenticated","handleImageChange","event","image","target","files","formData","FormData","append","name","handleEditPicture","fileInput","document","getElementById","click","handleLogout","profileMarkup","format","mapStateToProps","state","mapActionsToProps","propTypes","func","isRequired","object"],"mappings":"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","sourcesContent":["import React, { Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport { Link } from \"react-router-dom\";\nimport dayjs from \"dayjs\";\nimport EditDetails from \"./EditDetails\";\nimport MyButton from \"../../util/MyButton\";\nimport ProfileSkeleton from \"../../util/ProfileSkeleton\";\n\n//REDUX\nimport { connect } from \"react-redux\";\nimport { logoutUser, uploadImage } from \"../../redux/actions/userActions\";\n\n//MUI STUFF\nimport Button from \"@material-ui/core/Button\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Typography from \"@material-ui/core/Typography\";\nimport MuiLink from \"@material-ui/core/Link\";\n\n//Icons\nimport LocationOn from \"@material-ui/icons/LocationOn\";\nimport LinkIcon from \"@material-ui/icons/Link\";\nimport CalendarToday from \"@material-ui/icons/CalendarToday\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport KeyboardReturn from \"@material-ui/icons/KeyboardReturn\";\nconst styles = {\n  paper: {\n    padding: 20,\n  },\n  profile: {\n    \"& .image-wrapper\": {\n      textAlign: \"center\",\n      position: \"relative\",\n      \"& button\": {\n        position: \"absolute\",\n        top: \"80%\",\n        left: \"70%\",\n      },\n    },\n    \"& .profile-image\": {\n      width: 200,\n      height: 200,\n      objectFit: \"cover\",\n      maxWidth: \"100%\",\n      borderRadius: \"50%\",\n    },\n    \"& .profile-details\": {\n      textAlign: \"center\",\n      \"& span, svg\": {\n        verticalAlign: \"middle\",\n      },\n      \"& a\": {\n        color: \"#00bcd4\",\n      },\n    },\n    \"& hr\": {\n      border: \"none\",\n      margin: \"0 0 10px 0\",\n    },\n    \"& svg.button\": {\n      \"&:hover\": {\n        cursor: \"pointer\",\n      },\n    },\n  },\n  buttons: {\n    textAlign: \"center\",\n    \"& a\": {\n      margin: \"20px 10px\",\n    },\n  },\n};\n\nfunction Profile(props) {\n  const {\n    classes,\n    user: {\n      credentials: { handle, createdAt, imageUrl, bio, website, location },\n      loading,\n      authenticated,\n    },\n  } = props;\n\n  const handleImageChange = (event) => {\n    const image = event.target.files[0];\n    //send to server\n    const formData = new FormData();\n    formData.append(\"image\", image, image.name);\n    props.uploadImage(formData);\n  };\n\n  const handleEditPicture = () => {\n    const fileInput = document.getElementById(\"imageInput\");\n    fileInput.click();\n  };\n\n  const handleLogout = () => {\n    props.logoutUser();\n  };\n\n  let profileMarkup = !loading ? (\n    authenticated ? (\n      <Paper className={classes.paper}>\n        <div className={classes.profile}>\n          <div className=\"image-wrapper\">\n            <img src={imageUrl} alt=\"profile\" className=\"profile-image\" />\n            <input\n              type=\"file\"\n              id=\"imageInput\"\n              onChange={handleImageChange}\n              hidden=\"hidden\"\n            />\n            <MyButton\n              tip=\"Edit Profile picture\"\n              onClick={handleEditPicture}\n              btnClassName=\"button\"\n            >\n              <EditIcon color=\"primary\" />\n            </MyButton>\n          </div>\n          <hr />\n          <div className=\"profile-details\">\n            <MuiLink\n              component={Link}\n              to={`/users/${handle}`}\n              color=\"primary\"\n              variant=\"h5\"\n            >\n              @{handle}\n            </MuiLink>\n            <hr />\n            {bio && <Typography variant=\"body2\">{bio}</Typography>}\n            <hr />\n            {location && (\n              <Fragment>\n                <LocationOn color=\"primary\" /> <span>{location}</span>\n                <hr />\n              </Fragment>\n            )}\n            {website && (\n              <Fragment>\n                <LinkIcon color=\"primary\" />\n                <a href={website} target=\"_blank\" rel=\"noreferrer\">\n                  {\" \"}\n                  {website}\n                </a>\n                <hr />\n              </Fragment>\n            )}\n            <CalendarToday color=\"primary\" />{\" \"}\n            <span>Joined {dayjs(createdAt).format(\"MMM YYYY \")}</span>\n            <hr />\n            <MyButton tip=\"Logout\" onClick={handleLogout}>\n              <KeyboardReturn color=\"primary\" />\n            </MyButton>\n            <EditDetails />\n          </div>\n        </div>\n      </Paper>\n    ) : (\n      <Paper className={classes.paper}>\n        <Typography variant=\"body2\" align=\"center\">\n          No profile found, please login again\n        </Typography>\n        <div className={classes.buttons}>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            component={Link}\n            to=\"/login\"\n          >\n            Login\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            component={Link}\n            to=\"/signup\"\n          >\n            Signup\n          </Button>\n        </div>\n      </Paper>\n    )\n  ) : (\n    <ProfileSkeleton />\n  );\n\n  return profileMarkup;\n}\n\nconst mapStateToProps = (state) => ({\n  user: state.user,\n});\n\nconst mapActionsToProps = { logoutUser, uploadImage };\n\nProfile.propTypes = {\n  logoutUser: PropTypes.func.isRequired,\n  uploadImage: PropTypes.func.isRequired,\n  user: PropTypes.object.isRequired,\n  classes: PropTypes.object.isRequired,\n};\n\nexport default connect(\n  mapStateToProps,\n  mapActionsToProps\n)(withStyles(styles)(Profile));\n"]},"metadata":{},"sourceType":"module"}