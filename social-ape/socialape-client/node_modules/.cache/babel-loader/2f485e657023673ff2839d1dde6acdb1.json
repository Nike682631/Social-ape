{"ast":null,"code":"import React,{useEffect}from\"react\";import withStyles from\"@material-ui/core/styles/withStyles\";import{Link}from\"react-router-dom\";import dayjs from\"dayjs\";import relativeTime from\"dayjs/plugin/relativeTime\";import MyButton from\"../../util/MyButton\";import DeleteScream from\"./DeleteScream\";import ScreamDialog from\"./ScreamDialog\";import LikeButton from\"./LikeButton\";//MUI stuff\nimport Card from\"@material-ui/core/Card\";import CardContent from\"@material-ui/core/CardContent\";import CardMedia from\"@material-ui/core/CardMedia\";import Typography from\"@material-ui/core/Typography\";//Icons\nimport ChatIcon from\"@material-ui/icons/Chat\";//Redux\nimport{connect}from\"react-redux\";var styles={card:{display:\"flex\",marginBottom:20,position:\"relative\"},image:{minWidth:200},content:{padding:25,objectfit:\"cover\"}};function Scream(props){dayjs.extend(relativeTime);var classes=props.classes,_props$scream=props.scream,body=_props$scream.body,createdAt=_props$scream.createdAt,userImage=_props$scream.userImage,userHandle=_props$scream.userHandle,screamId=_props$scream.screamId,likeCount=_props$scream.likeCount,commentCount=_props$scream.commentCount,comments=_props$scream.comments,_props$user=props.user,authenticated=_props$user.authenticated,handle=_props$user.credentials.handle;useEffect(function(){return;},[likeCount,JSON.stringify(comments)]);var deleteButton=authenticated&&userHandle===handle?/*#__PURE__*/React.createElement(DeleteScream,{screamId:screamId}):null;return/*#__PURE__*/React.createElement(Card,{className:classes.card},/*#__PURE__*/React.createElement(CardMedia,{image:userImage,title:\"Profile image\",className:classes.image}),/*#__PURE__*/React.createElement(CardContent,{className:classes.content},/*#__PURE__*/React.createElement(Typography,{variant:\"h5\",component:Link,to:\"/users/\".concat(userHandle),color:\"primary\"},userHandle),deleteButton,/*#__PURE__*/React.createElement(Typography,{variant:\"body2\",color:\"textSecondary\"},dayjs(createdAt).fromNow()),/*#__PURE__*/React.createElement(Typography,{variant:\"body1\"},body),/*#__PURE__*/React.createElement(LikeButton,{screamId:screamId}),/*#__PURE__*/React.createElement(\"span\",null,likeCount,\" likes\"),/*#__PURE__*/React.createElement(MyButton,{tip:\"comment\"},/*#__PURE__*/React.createElement(ChatIcon,{color:\"primary\"})),/*#__PURE__*/React.createElement(\"span\",null,commentCount,\" comments\"),/*#__PURE__*/React.createElement(ScreamDialog,{screamId:screamId,userHandle:userHandle,openDialog:props.openDialog})));}var mapStateToProps=function mapStateToProps(state){return{user:state.user};};export default connect(mapStateToProps)(withStyles(styles)(Scream));","map":{"version":3,"sources":["/home/nikunj/socialape-client/src/components/scream/Scream.js"],"names":["React","useEffect","withStyles","Link","dayjs","relativeTime","MyButton","DeleteScream","ScreamDialog","LikeButton","Card","CardContent","CardMedia","Typography","ChatIcon","connect","styles","card","display","marginBottom","position","image","minWidth","content","padding","objectfit","Scream","props","extend","classes","scream","body","createdAt","userImage","userHandle","screamId","likeCount","commentCount","comments","user","authenticated","handle","credentials","JSON","stringify","deleteButton","fromNow","openDialog","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport { Link } from \"react-router-dom\";\nimport dayjs from \"dayjs\";\nimport relativeTime from \"dayjs/plugin/relativeTime\";\nimport PropTypes from \"prop-types\";\nimport MyButton from \"../../util/MyButton\";\nimport DeleteScream from \"./DeleteScream\";\nimport ScreamDialog from \"./ScreamDialog\";\nimport LikeButton from \"./LikeButton\";\n//MUI stuff\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport Typography from \"@material-ui/core/Typography\";\n\n//Icons\nimport ChatIcon from \"@material-ui/icons/Chat\";\n\n//Redux\nimport { connect } from \"react-redux\";\n\nconst styles = {\n  card: {\n    display: \"flex\",\n    marginBottom: 20,\n    position: \"relative\",\n  },\n  image: {\n    minWidth: 200,\n  },\n  content: {\n    padding: 25,\n    objectfit: \"cover\",\n  },\n};\n\nfunction Scream(props) {\n  dayjs.extend(relativeTime);\n  const {\n    classes,\n    scream: {\n      body,\n      createdAt,\n      userImage,\n      userHandle,\n      screamId,\n      likeCount,\n      commentCount,\n      comments,\n    },\n    user: {\n      authenticated,\n      credentials: { handle },\n    },\n  } = props;\n\n  useEffect(() => {\n    return;\n  }, [likeCount, JSON.stringify(comments)]);\n\n  const deleteButton =\n    authenticated && userHandle === handle ? (\n      <DeleteScream screamId={screamId} />\n    ) : null;\n\n  return (\n    <Card className={classes.card}>\n      <CardMedia\n        image={userImage}\n        title=\"Profile image\"\n        className={classes.image}\n      />\n      <CardContent className={classes.content}>\n        <Typography\n          variant=\"h5\"\n          component={Link}\n          to={`/users/${userHandle}`}\n          color=\"primary\"\n        >\n          {userHandle}\n        </Typography>\n        {deleteButton}\n        <Typography variant=\"body2\" color=\"textSecondary\">\n          {dayjs(createdAt).fromNow()}\n        </Typography>\n\n        <Typography variant=\"body1\">{body}</Typography>\n        <LikeButton screamId={screamId} />\n        <span>{likeCount} likes</span>\n        <MyButton tip=\"comment\">\n          <ChatIcon color=\"primary\" />\n        </MyButton>\n        <span>{commentCount} comments</span>\n        <ScreamDialog\n          screamId={screamId}\n          userHandle={userHandle}\n          openDialog={props.openDialog}\n        />\n      </CardContent>\n    </Card>\n  );\n}\n\nScream.propTypes = {\n  user: PropTypes.object.isRequired,\n  scream: PropTypes.object.isRequired,\n  classes: PropTypes.object.isRequired,\n  openDialog: PropTypes.bool,\n};\n\nconst mapStateToProps = (state) => ({\n  user: state.user,\n});\n\nexport default connect(mapStateToProps)(withStyles(styles)(Scream));\n"]},"metadata":{},"sourceType":"module"}