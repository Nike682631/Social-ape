{"ast":null,"code":"import React from\"react\";import MyButton from\"../../util/MyButton\";import{Link}from\"react-router-dom\";import PropTypes from\"prop-types\";//Icons\nimport FavoriteIcon from\"@material-ui/icons/Favorite\";import FavoriteBorder from\"@material-ui/icons/FavoriteBorder\";//Redux\nimport{connect}from\"react-redux\";import{likeScream,unlikeScream}from\"../../redux/actions/dataActions\";function LikeButton(props){var likedScream=function likedScream(){if(props.user.likes&&props.user.likes.find(function(like){return like.screamId===props.screamId;})){return true;}else return false;};var likeScream=function likeScream(){props.likeScream(props.screamId);};var unlikeScream=function unlikeScream(){props.unlikeScream(props.screamId);};var authenticated=props.user.authenticated;var likeButton=!authenticated?/*#__PURE__*/React.createElement(MyButton,{tip:\"Like\"},/*#__PURE__*/React.createElement(Link,{to:\"/login\"},/*#__PURE__*/React.createElement(FavoriteBorder,{color:\"primary\"}))):likedScream()?/*#__PURE__*/React.createElement(MyButton,{tip:\"Undo like\",onClick:unlikeScream},/*#__PURE__*/React.createElement(FavoriteIcon,{color:\"primary\"})):/*#__PURE__*/React.createElement(MyButton,{tip:\"Like\",onClick:likeScream},/*#__PURE__*/React.createElement(FavoriteBorder,{color:\"primary\"}));return likeButton;}LikeButton.propTypes={user:PropTypes.object.isRequired,screamId:PropTypes.string.isRequired,likeScream:PropTypes.func.isRequired,unlikeScream:PropTypes.func.isRequired};var mapStateToProps=function mapStateToProps(state){return{user:state.user// screamId: state.screams.screamId\n};};var mapActionsToProps={likeScream:likeScream,unlikeScream:unlikeScream};export default connect(mapStateToProps,mapActionsToProps)(LikeButton);","map":{"version":3,"sources":["/home/nikunj/socialape-client/src/components/scream/LikeButton.js"],"names":["React","MyButton","Link","PropTypes","FavoriteIcon","FavoriteBorder","connect","likeScream","unlikeScream","LikeButton","props","likedScream","user","likes","find","like","screamId","authenticated","likeButton","propTypes","object","isRequired","string","func","mapStateToProps","state","mapActionsToProps"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,QAAP,KAAqB,qBAArB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,SAAP,KAAsB,YAAtB,CACA;AACA,MAAOC,CAAAA,YAAP,KAAyB,6BAAzB,CACA,MAAOC,CAAAA,cAAP,KAA2B,mCAA3B,CACA;AACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,UAAT,CAAqBC,YAArB,KAAyC,iCAAzC,CACA,QAASC,CAAAA,UAAT,CAAoBC,KAApB,CAA2B,CACzB,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxB,GACED,KAAK,CAACE,IAAN,CAAWC,KAAX,EACAH,KAAK,CAACE,IAAN,CAAWC,KAAX,CAAiBC,IAAjB,CAAsB,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACC,QAAL,GAAkBN,KAAK,CAACM,QAAlC,EAAtB,CAFF,CAGE,CACA,MAAO,KAAP,CACD,CALD,IAKO,OAAO,MAAP,CACR,CAPD,CASA,GAAMT,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACvBG,KAAK,CAACH,UAAN,CAAiBG,KAAK,CAACM,QAAvB,EACD,CAFD,CAIA,GAAMR,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzBE,KAAK,CAACF,YAAN,CAAmBE,KAAK,CAACM,QAAzB,EACD,CAFD,CAdyB,GAkBjBC,CAAAA,aAlBiB,CAkBCP,KAAK,CAACE,IAlBP,CAkBjBK,aAlBiB,CAmBzB,GAAMC,CAAAA,UAAU,CAAG,CAACD,aAAD,cACjB,oBAAC,QAAD,EAAU,GAAG,CAAC,MAAd,eACE,oBAAC,IAAD,EAAM,EAAE,CAAC,QAAT,eACE,oBAAC,cAAD,EAAgB,KAAK,CAAC,SAAtB,EADF,CADF,CADiB,CAMfN,WAAW,gBACb,oBAAC,QAAD,EAAU,GAAG,CAAC,WAAd,CAA0B,OAAO,CAAEH,YAAnC,eACE,oBAAC,YAAD,EAAc,KAAK,CAAC,SAApB,EADF,CADa,cAKb,oBAAC,QAAD,EAAU,GAAG,CAAC,MAAd,CAAqB,OAAO,CAAED,UAA9B,eACE,oBAAC,cAAD,EAAgB,KAAK,CAAC,SAAtB,EADF,CAXF,CAeA,MAAOW,CAAAA,UAAP,CACD,CAEDT,UAAU,CAACU,SAAX,CAAuB,CACrBP,IAAI,CAAET,SAAS,CAACiB,MAAV,CAAiBC,UADF,CAErBL,QAAQ,CAAEb,SAAS,CAACmB,MAAV,CAAiBD,UAFN,CAGrBd,UAAU,CAAEJ,SAAS,CAACoB,IAAV,CAAeF,UAHN,CAIrBb,YAAY,CAAEL,SAAS,CAACoB,IAAV,CAAeF,UAJR,CAAvB,CAOA,GAAMG,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,QAAY,CAClCb,IAAI,CAAEa,KAAK,CAACb,IACZ;AAFkC,CAAZ,EAAxB,CAIA,GAAMc,CAAAA,iBAAiB,CAAG,CACxBnB,UAAU,CAAVA,UADwB,CAExBC,YAAY,CAAZA,YAFwB,CAA1B,CAKA,cAAeF,CAAAA,OAAO,CAACkB,eAAD,CAAkBE,iBAAlB,CAAP,CAA4CjB,UAA5C,CAAf","sourcesContent":["import React from \"react\";\nimport MyButton from \"../../util/MyButton\";\nimport { Link } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\n//Icons\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\nimport FavoriteBorder from \"@material-ui/icons/FavoriteBorder\";\n//Redux\nimport { connect } from \"react-redux\";\nimport { likeScream, unlikeScream } from \"../../redux/actions/dataActions\";\nfunction LikeButton(props) {\n  const likedScream = () => {\n    if (\n      props.user.likes &&\n      props.user.likes.find((like) => like.screamId === props.screamId)\n    ) {\n      return true;\n    } else return false;\n  };\n\n  const likeScream = () => {\n    props.likeScream(props.screamId);\n  };\n\n  const unlikeScream = () => {\n    props.unlikeScream(props.screamId);\n  };\n\n  const { authenticated } = props.user;\n  const likeButton = !authenticated ? (\n    <MyButton tip=\"Like\">\n      <Link to=\"/login\">\n        <FavoriteBorder color=\"primary\" />\n      </Link>\n    </MyButton>\n  ) : likedScream() ? (\n    <MyButton tip=\"Undo like\" onClick={unlikeScream}>\n      <FavoriteIcon color=\"primary\" />\n    </MyButton>\n  ) : (\n    <MyButton tip=\"Like\" onClick={likeScream}>\n      <FavoriteBorder color=\"primary\" />\n    </MyButton>\n  );\n  return likeButton;\n}\n\nLikeButton.propTypes = {\n  user: PropTypes.object.isRequired,\n  screamId: PropTypes.string.isRequired,\n  likeScream: PropTypes.func.isRequired,\n  unlikeScream: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  user: state.user,\n  // screamId: state.screams.screamId\n});\nconst mapActionsToProps = {\n  likeScream,\n  unlikeScream,\n};\n\nexport default connect(mapStateToProps, mapActionsToProps)(LikeButton);\n"]},"metadata":{},"sourceType":"module"}