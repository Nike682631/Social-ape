{"ast":null,"code":"import _objectSpread from\"/home/nikunj/socialape-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/nikunj/socialape-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import axios from\"axios\";import Scream from\"../components/scream/Scream\";import StaticProfile from\"../components/profile/StaticProfile\";import Grid from\"@material-ui/core/Grid\";import ScreamSkeleton from\"../util/ScreamSkeleton\";import ProfileSkeleton from\"../util/ProfileSkeleton\";import{connect}from\"react-redux\";import{getUserData}from\"../redux/actions/dataActions\";function User(props){var _useState=useState({profile:null,screamIdParam:null}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];useEffect(function(){var handle=props.match.params.handle;var screamId=props.match.params.screamId;if(screamId)setState(_objectSpread(_objectSpread({},state),{},{screamIdParam:screamId}));props.getUserData(handle);axios.get(\"/user/\".concat(handle)).then(function(res){setState(_objectSpread(_objectSpread({},state),{},{profile:res.data.user}));}).catch(function(err){console.log(err);});},[]);var _props$data=props.data,screams=_props$data.screams,loading=_props$data.loading;var screamIdParam=state.screamIdParam;var screamsMarkup=loading?/*#__PURE__*/React.createElement(ScreamSkeleton,null):screams===null?/*#__PURE__*/React.createElement(\"p\",null,\"No screams from this user\"):!screamIdParam?screams.map(function(scream){return/*#__PURE__*/React.createElement(Scream,{key:scream.screamId,scream:scream});}):screams.map(function(scream){if(scream.screamId!==screamIdParam){return/*#__PURE__*/React.createElement(Scream,{key:scream.screamId,scream:scream});}else return/*#__PURE__*/React.createElement(Scream,{key:scream.screamId,scream:scream,openDialog:true});});return/*#__PURE__*/React.createElement(Grid,{container:true,spacing:9},/*#__PURE__*/React.createElement(Grid,{item:true,sm:8,xs:12},screamsMarkup),/*#__PURE__*/React.createElement(Grid,{item:true,sm:4,xs:12},state.profile===null?/*#__PURE__*/React.createElement(ProfileSkeleton,null):/*#__PURE__*/React.createElement(StaticProfile,{profile:state.profile})));}var mapStateToProps=function mapStateToProps(state){return{data:state.data};};export default connect(mapStateToProps,{getUserData:getUserData})(User);","map":{"version":3,"sources":["/home/nikunj/socialape-client/src/pages/user.js"],"names":["React","useEffect","useState","axios","Scream","StaticProfile","Grid","ScreamSkeleton","ProfileSkeleton","connect","getUserData","User","props","profile","screamIdParam","state","setState","handle","match","params","screamId","get","then","res","data","user","catch","err","console","log","screams","loading","screamsMarkup","map","scream","mapStateToProps"],"mappings":"uSAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CAEA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,6BAAnB,CACA,MAAOC,CAAAA,aAAP,KAA0B,qCAA1B,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,MAAOC,CAAAA,cAAP,KAA2B,wBAA3B,CACA,MAAOC,CAAAA,eAAP,KAA4B,yBAA5B,CAEA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,WAAT,KAA4B,8BAA5B,CAEA,QAASC,CAAAA,IAAT,CAAcC,KAAd,CAAqB,eACOV,QAAQ,CAAC,CACjCW,OAAO,CAAE,IADwB,CAEjCC,aAAa,CAAE,IAFkB,CAAD,CADf,wCACZC,KADY,eACLC,QADK,eAMnBf,SAAS,CAAC,UAAM,CACd,GAAMgB,CAAAA,MAAM,CAAGL,KAAK,CAACM,KAAN,CAAYC,MAAZ,CAAmBF,MAAlC,CACA,GAAMG,CAAAA,QAAQ,CAAGR,KAAK,CAACM,KAAN,CAAYC,MAAZ,CAAmBC,QAApC,CAEA,GAAIA,QAAJ,CAAcJ,QAAQ,gCAAMD,KAAN,MAAaD,aAAa,CAAEM,QAA5B,GAAR,CAEdR,KAAK,CAACF,WAAN,CAAkBO,MAAlB,EACAd,KAAK,CACFkB,GADH,iBACgBJ,MADhB,GAEGK,IAFH,CAEQ,SAACC,GAAD,CAAS,CACbP,QAAQ,gCAAMD,KAAN,MAAaF,OAAO,CAAEU,GAAG,CAACC,IAAJ,CAASC,IAA/B,GAAR,CACD,CAJH,EAKGC,KALH,CAKS,SAACC,GAAD,CAAS,CACdC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACD,CAPH,EAQD,CAfQ,CAeN,EAfM,CAAT,CANmB,gBAuBUf,KAAK,CAACY,IAvBhB,CAuBXM,OAvBW,aAuBXA,OAvBW,CAuBFC,OAvBE,aAuBFA,OAvBE,IAyBXjB,CAAAA,aAzBW,CAyBOC,KAzBP,CAyBXD,aAzBW,CA0BnB,GAAMkB,CAAAA,aAAa,CAAGD,OAAO,cAC3B,oBAAC,cAAD,MAD2B,CAEzBD,OAAO,GAAK,IAAZ,cACF,yDADE,CAEA,CAAChB,aAAD,CACFgB,OAAO,CAACG,GAAR,CAAY,SAACC,MAAD,qBAAY,oBAAC,MAAD,EAAQ,GAAG,CAAEA,MAAM,CAACd,QAApB,CAA8B,MAAM,CAAEc,MAAtC,EAAZ,EAAZ,CADE,CAGFJ,OAAO,CAACG,GAAR,CAAY,SAACC,MAAD,CAAY,CACtB,GAAIA,MAAM,CAACd,QAAP,GAAoBN,aAAxB,CAAuC,CACrC,mBAAO,oBAAC,MAAD,EAAQ,GAAG,CAAEoB,MAAM,CAACd,QAApB,CAA8B,MAAM,CAAEc,MAAtC,EAAP,CACD,CAFD,IAEO,oBAAO,oBAAC,MAAD,EAAQ,GAAG,CAAEA,MAAM,CAACd,QAApB,CAA8B,MAAM,CAAEc,MAAtC,CAA8C,UAAU,KAAxD,EAAP,CACR,CAJD,CAPF,CAcA,mBACE,oBAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,OAAO,CAAE,CAAzB,eACE,oBAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,CAAf,CAAkB,EAAE,CAAE,EAAtB,EACGF,aADH,CADF,cAIE,oBAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,CAAf,CAAkB,EAAE,CAAE,EAAtB,EACGjB,KAAK,CAACF,OAAN,GAAkB,IAAlB,cACC,oBAAC,eAAD,MADD,cAGC,oBAAC,aAAD,EAAe,OAAO,CAAEE,KAAK,CAACF,OAA9B,EAJJ,CAJF,CADF,CAcD,CAOD,GAAMsB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACpB,KAAD,QAAY,CAClCS,IAAI,CAAET,KAAK,CAACS,IADsB,CAAZ,EAAxB,CAIA,cAAef,CAAAA,OAAO,CAAC0B,eAAD,CAAkB,CAAEzB,WAAW,CAAXA,WAAF,CAAlB,CAAP,CAA0CC,IAA1C,CAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport axios from \"axios\";\nimport Scream from \"../components/scream/Scream\";\nimport StaticProfile from \"../components/profile/StaticProfile\";\nimport Grid from \"@material-ui/core/Grid\";\nimport ScreamSkeleton from \"../util/ScreamSkeleton\";\nimport ProfileSkeleton from \"../util/ProfileSkeleton\";\n\nimport { connect } from \"react-redux\";\nimport { getUserData } from \"../redux/actions/dataActions\";\n\nfunction User(props) {\n  const [state, setState] = useState({\n    profile: null,\n    screamIdParam: null,\n  });\n\n  useEffect(() => {\n    const handle = props.match.params.handle;\n    const screamId = props.match.params.screamId;\n\n    if (screamId) setState({ ...state, screamIdParam: screamId });\n\n    props.getUserData(handle);\n    axios\n      .get(`/user/${handle}`)\n      .then((res) => {\n        setState({ ...state, profile: res.data.user });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  const { screams, loading } = props.data;\n\n  const { screamIdParam } = state;\n  const screamsMarkup = loading ? (\n    <ScreamSkeleton />\n  ) : screams === null ? (\n    <p>No screams from this user</p>\n  ) : !screamIdParam ? (\n    screams.map((scream) => <Scream key={scream.screamId} scream={scream} />)\n  ) : (\n    screams.map((scream) => {\n      if (scream.screamId !== screamIdParam) {\n        return <Scream key={scream.screamId} scream={scream} />;\n      } else return <Scream key={scream.screamId} scream={scream} openDialog />;\n    })\n  );\n\n  return (\n    <Grid container spacing={9}>\n      <Grid item sm={8} xs={12}>\n        {screamsMarkup}\n      </Grid>\n      <Grid item sm={4} xs={12}>\n        {state.profile === null ? (\n          <ProfileSkeleton />\n        ) : (\n          <StaticProfile profile={state.profile} />\n        )}\n      </Grid>\n    </Grid>\n  );\n}\n\nUser.propTypes = {\n  data: PropTypes.object.isRequired,\n  getUserData: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  data: state.data,\n});\n\nexport default connect(mapStateToProps, { getUserData })(User);\n"]},"metadata":{},"sourceType":"module"}